{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "$id": "https://raw.githubusercontent.com/stickyPiston/agda-mode-vscode/refs/heads/main/schemas/display-info.schema.json",
    "title": "Display info response",
    "properties": {
        "kind": { "const": "DisplayInfo" },
        "info": { "oneOf": [
            {
                "type": "object",
                "required": ["kind", "error"],
                "properties": {
                    "kind": { "const": "Error" },
                    "error": {
                        "type": "object",
                        "required": ["message"],
                        "properties": {
                            "message": { "type": "string" }
                        }
                    }
                }
            },
            {
                "type": "object",
                "required": ["kind", "errors", "warnings", "invisibleGoals", "visibleGoals"],
                "properties": {
                    "kind": { "const": "AllGoalsWarnings" },
                    "errors": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "required": ["message"],
                            "properties": {
                                "message": { "type": "string" }
                            }
                        }
                    },
                    "warnings": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "required": ["message"],
                            "properties": {
                                "message": { "type": "string" }
                            }
                        }
                    },
                    "invisibleGoals": {
                        "type": "array",
                        "description": "Invisible goals",
                        "$comment": "TODO: Encode all the goal types",
                        "items": true
                    },
                    "visibleGoals": {
                        "type": "array",
                        "description": "Invisible goals",
                        "$comment": "TODO: Encode all the goal types",
                        "items": true
                    }
                }
            }
        ] }
    }
}